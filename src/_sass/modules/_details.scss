/*
Author: Jeff Keddy
Date: 10/24/2017
Description:    Simple toggle for boxes. Named details after the default element.
                Based on the a11y toggle system: https://github.com/edenspiekermann/a11y-toggle
*/

.o-toggle {
    @include font-sans(1em, false, false, 1.3);
    &__content {
        border: 3px solid $primary-color;
        padding: pad(1,rem);
        @include media(">=screen-sm"){
            padding-top: pad(2,rem);
            position: relative;
                top: -36px;
        }
        &[aria-hidden=true] {
            @include visually-hidden;
            max-height: 1px;
            max-width: 1px;
            opacity: 1;
            visibility: hidden;
            transition:
              max-height 1250ms ease,
              max-width 1250ms ease,
              opacity    500ms ease;
        }
        &[aria-hidden=false] {
            position: relative;
            height: auto;
            width: auto;
            overflow: visible;
            clip: none;
            opacity: 1;
            max-height: 40em;
            max-width: 80em;
            visibility: visible;
            transition:
              max-height 1250ms ease,
              max-width 1250ms ease,
              opacity    500ms ease;
        }
        > *:not(.row){
            margin-bottom: margin(-3,rem);
        }
    }
    &--mininav{
        position: relative;
        .o-toggle__content{
            @include media(">=screen-sm"){
                padding-top:pad(5,rem);
            }
            &[aria-hidden=true]{
                > *{
                    opacity: 0;
                }
            }
            &[aria-hidden=false] {
                > *{
                    opacity: 1;
                    transition: opacity 300ms ease-in;
                    transition-delay: 300ms;
                }
                .c-row,.c-col{
                    margin-bottom: 0;
                }
            }
        }
        .o-toggle__link{
            display: block;
            margin-bottom: margin(-3,rem);
        }
        .o-toggle__subhead{
            display: block;
            margin-bottom: margin(-2,rem);
        }
    }
}